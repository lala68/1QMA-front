<main class="bg-light">
  <app-header></app-header>
  <mat-toolbar class="mobileviewFooterButtonstoolbarNav" *ngIf="generalService.userId && generalService.hasCompletedSignup">
    <button mat-flat-button [routerLink]="['/dashboard']" id="dashboard"
            [class]="generalService.currentRout == '/dashboard' ? 'mat-list-item-selected' : ''"
            routerLinkActive="active-link" class="w-25 mt-3">
      <img matListItemIcon src="assets/images/home.png" width="25">
      <span class="d-block">Dashboard</span>
    </button>
    <!--    <button mat-flat-button [routerLink]="['/game-board']" id="games"-->
    <button mat-flat-button [routerLink]="['/games/overview']" id="games"
            [class]="generalService.currentRout == '/games/overview' ? 'mat-list-item-selected' : ''"
            routerLinkActive="active-link" class="w-25 mt-3">
      <img matListItemIcon src="assets/images/game.png" width="25">
      <span class="d-block">Games</span>
    </button>
    <button mat-flat-button [routerLink]="['/trivia-hub']" id="trivia"
            [class]="generalService.currentRout == '/trivia-hub' ? 'mat-list-item-selected' : ''"
            routerLinkActive="active-link" class="w-25 mt-3">
      <img matListItemIcon src="assets/images/book-side.png" width="25">
      <span class="d-block">Trivia Hub</span>
    </button>
    <button mat-flat-button [routerLink]="['/shop']" id="shop"
            [class]="generalService.currentRout == '/shop' ? 'mat-list-item-selected' : ''"
            routerLinkActive="active-link" class="w-25 mt-3">
      <img matListItemIcon src="assets/images/shop.png" width="25">
      <span class="d-block">Shop</span>
    </button>
  </mat-toolbar>
  <mat-drawer-container style="min-height: 100vh">
    <mat-drawer class="bg-transparent border-0 position-fixed sideDrawer" mode="side" opened
                *ngIf="generalService?.hasCompletedSignup && !generalService.startingGame"
                style="height: calc(100vh - 120px);">
      <!--    <mat-drawer class="bg-transparent border-0" mode="side" opened s>-->
      <div class="dashboard-sidebar">
        <mat-card class="sidebar-user-detail" appearance="outlined" id="userAccount">
          <mat-card-header class="p-3 align-items-center">
            <!--            <div mat-card-avatar class="avatar-header-image"></div>-->
            <img mat-card-avatar class="avatar-bordered mb-0"
                 [src]="generalService.userObj.profilePicture ? generalService.userObj.profilePicture?.startsWith('http') ? generalService.userObj?.profilePicture : configService.url(generalService.userObj?.profilePicture) : 'assets/images/frame.png'"
                 width="35" height="35">
            <mat-card-title>{{generalService.userObj.firstName + ' ' + generalService.userObj.lastName }}</mat-card-title>
            <mat-card-subtitle class="d-flex align-items-center mt-1">
              <img src="assets/images/coin-bronze.png"
                   width="15">&nbsp;<span>{{generalService.userObj?.assets?.coins?.bronze}}</span>&nbsp;
              <img src="assets/images/coin-silver.png"
                   width="15">&nbsp;<span>{{generalService.userObj?.assets?.coins?.silver}}</span>&nbsp;
              <img src="assets/images/coin-gold.png"
                   width="15">&nbsp;<span>{{generalService.userObj?.assets?.coins?.gold}}</span>
            </mat-card-subtitle>
          </mat-card-header>
        </mat-card>
        <div class="card border-0 mt-3" style="height: 255px">
          <mat-list>
            <mat-list-item [routerLink]="['/dashboard']" id="dashboard"
                           [class]="generalService.currentRout == '/dashboard' ? 'mat-list-item-selected' : ''">
              <img matListItemIcon src="assets/images/home.png" width="25">
              <span class="font-size-14 weight-600" matListItemTitle>{{'Dashboard' | translate}}</span>
            </mat-list-item>
            <mat-list-item [routerLink]="['/games/overview']" id="games"
                           [class]="generalService.currentRout == '/games/overview' ? 'mat-list-item-selected' : ''">
              <!--                          <mat-list-item [routerLink]="['/game-board']"-->
              <!--                                         [class]="generalService.currentRout == '/games/overview' ? 'mat-list-item-selected' : ''">-->
              <img matListItemIcon src="assets/images/game.png" width="25">
              <span class="font-size-14 weight-600" matListItemTitle>{{'Games' | translate}}</span>
            </mat-list-item>
            <mat-list-item [routerLink]="['/trivia-hub']" id="trivia"
                           [class]="generalService.currentRout == '/trivia-hub' ? 'mat-list-item-selected' : ''">
              <img matListItemIcon src="assets/images/book-side.png" width="25">
              <span class="font-size-14 weight-600" matListItemTitle>{{'Trivia Hub' | translate}}</span>
            </mat-list-item>
            <mat-list-item [routerLink]="['/shop']" id="shop"
                           [class]="generalService.currentRout == '/shop' ? 'mat-list-item-selected' : ''">
              <img matListItemIcon src="assets/images/shop.png" width="25">
              <span class="font-size-14 weight-600" matListItemTitle>{{'Shop' | translate}}</span>
            </mat-list-item>
          </mat-list>
        </div>
      </div>
    </mat-drawer>
    <mat-drawer-content style="margin-left: 0; "
                        [style]="generalService.isMobileView ? 'margin-inline-start: 0px;' : generalService.userId && generalService.hasCompletedSignup ? 'margin-inline-start: 260px;' : 'margin-inline-start: 0px;'">
      <div class="border-0"
           [class]="{'dashboard-content-default' : generalService.hasCompletedSignup && !generalService.startingGame, 'dashboard-content-game-board' : generalService.hasCompletedSignup && generalService.startingGame, '' : !generalService.hasCompletedSignup }">
        <!--      <div class="border-0" [class]="{'dashboard-content' : !generalService.hasCompletedSignup, '' : !generalService.hasCompletedSignup }">-->
        <router-outlet id="top"></router-outlet>
      </div>
    </mat-drawer-content>
  </mat-drawer-container>

  <app-footer *ngIf="generalService.hasCompletedSignup && !generalService.startingGame"></app-footer>

</main>
